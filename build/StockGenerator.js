// Generated by CoffeeScript 1.9.3
(function() {
  var BucketsGenerator, StockGenerator, cfs, constants, moment, path;

  cfs = require('./cfs');

  constants = require('./constants');

  moment = require('moment');

  path = require('path');

  BucketsGenerator = require('./BucketsGenerator');

  StockGenerator = (function() {
    function StockGenerator(rootDir) {
      var buckets, comic, i, len, ref;
      this.rootDir = rootDir;
      buckets = new BucketsGenerator(this.rootDir, this.roundTimestamp).getBuckets();
      this.stock = "";
      if (buckets.length === 1) {
        ref = buckets[0].list;
        for (i = 0, len = ref.length; i < len; i++) {
          comic = ref[i];
          if ((comic.start != null) && (comic.end != null)) {
            if (comic.start === comic.end) {
              this.stock += comic.title + " #" + comic.start + "\n";
            } else {
              this.stock += comic.title + " #" + comic.start + "-" + comic.end + "\n";
            }
          } else {
            this.stock += comic.title + "\n";
          }
        }
      }
      return;
    }

    StockGenerator.prototype.roundTimestamp = function(ts) {
      return 0;
    };

    StockGenerator.prototype.getStock = function() {
      return this.stock;
    };

    return StockGenerator;

  })();

  module.exports = StockGenerator;

}).call(this);
